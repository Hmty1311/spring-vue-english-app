# 英単語アプリ　要件定義書

## 1. 目的
英単語の登録・管理・復習を効率化し、継続的な学習を支援するWebアプリケーションを構築する。

## 2. 利用者
一般ユーザー

## 3. スコープ
### 3.1 対象
* 単語帳モード切替(カスタマイズ / プリセット)
* 単語登録(カスタマイズ時)
- 単語管理(一覧・詳細・編集・削除)
- クイズ出題(単語帳ごとに出題)
- 学習履歴(単語ごと・日ごとの記録)
- タグ管理
- 辞書APIによる自動データ取得

### 3.2 対象外
- 他ユーザー対応
- SNS・共有機能
- 高度な分析
- ネイティブアプリ化

## 4. 機能要件
### 4.1 単語帳モード切り替え
ユーザーは学習モードとして以下を選できる
* カスタマイズ
* プリセット

#### カスタマイズモード
* ユーザーが英単語を登録できる
* 単語登録時、辞書APIから以下を自動取得
   * 意味
   * 例文
* 登録英単語は編集・削除可能
* タグ付与可能
* 暗記フラグの設定が可能
* 出題頻度スコアを内部で保持
* クイズ出題範囲:ユーザー登録単語のみ

#### プリセット単語帳モード
* システムが用意した単語帳から選択できる(例:TOEIC600 / 英検など)
* 単語内容は読み取り専用(編集不可)
* タグは既存データに紐づくものを使用
* クイズ出題範囲:選択した単語帳の単語

### 4.2 単語登録
※カスタマイズモードのみ
* 英単語の入力により新規登録可能
* 辞書APIより意味・例文を自動取得
* タグを任意で設定可能
* 登録日時を保存
* 重複は防止する

### 4.3 単語管理
* 単語一覧を表示
* 単語詳細
  * 意味
  * 例文
  * 出題頻度
  * 暗記フラグ
  * タグ
* 単語の編集(カスタマイズのみ)
* 単語の削除(カスタマイズのみ)
* タグごとの絞り込み、検索が可能

### 4.4 クイズ出題
* モードに応じて出題範囲を切り替える
* 出題方式
  * 単語→日本語意味
  * 意味→単語
  * 例文穴埋め
* 出題優先度は以下の要素に基づき調整
  * 正答率
  * 出題間隔
  * 暗記フラグ(暗記済みは優先度低)
* 即時に正誤判定を表示
* 出題(正解／不正解)を保存

### 4.5 学習履歴
* 単語ごとの正答履歴
* 日ごとの学習結果(問題数・正答率)
* モードごとに履歴は分離(カスタマイズ/プリセットで混同させない)
* 直近の学習推移をグラフ表示

### 4.6 タグ管理
* タグ追加
* タグ名編集
* タグ削除(カスタマイズモードのみ)
* 単語とタグの紐付け・解除

## 5. 非機能要件
### 5.1 性能
* 単語一覧200件をストレスなく表示
* クイズ出題は1秒以内にレスポンス

### 5.2 セキュリティ
* 簡易ログイン機能
* CSRF対策
* XSS/SQL Injection対策

## 6. 画面要件
* ログイン画面
* モード選択画面(カスタマイズ/プリセット)
* 単語一覧
* 単語登録(カスタマイズモード)
* 単語詳細
* クイズ画面
* 学習結果画面
* タグ管理画面

## 7. データ要件
### 7.1 テーブル(要件レベル)
#### VocablarySet(単語帳)
* ID
* 単語
* 意味
* 例文
* タグID
* 暗記フラグ
* 出題頻度スコア
* 登録日時
* 単語帳ID(VocablarySet FK)

#### Tag(タグ)
* ID
* 名称

#### QuizResult(学習履歴)
* ID
* 単語ID
* 単語帳ID
* 正解/不正解
* 出題日時

#### User(認証情報)
* ID
* メールアドレス
* パスワード(ハッシュ)

## 外部サービス・API
* 辞書API(Jisho.orgなど)
　※意味・例文取得時に使用

## 9. 制約・前提条件
* 利用者は1名想定
* バックエンド:SpringBoot
* フロント:Vue.js
* DB:PostgreSQL